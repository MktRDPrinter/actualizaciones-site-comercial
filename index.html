<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Actualizaciones</title>
    <style>
        /* Asegurar que todo el contenido tenga el tamaño correcto */
        html, body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            width: 100%;
            height: 50px; /* Ajusta el alto de la marquesina según el espacio del iframe */
            background: #333;
        }

        /* Contenedor de la marquesina */
        #marquesina-container {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            overflow: hidden;
            white-space: nowrap;
            position: relative;
        }

        /* Texto en movimiento */
        #marquesina {
            display: inline-block;
            white-space: nowrap;
            padding-left: 100%;
            font-size: 18px;
            color: white;
            font-family: Arial, sans-serif;
            font-weight: bold;
            animation: scroll 25s linear infinite;
        }

        /* Animación de desplazamiento continuo */
        @keyframes scroll {
            from { transform: translateX(100%); }
            to { transform: translateX(-100%); }
        }
    </style>
</head>
<body>

<div id="marquesina-container">
    <div id="marquesina">Cargando actualizaciones...</div>
</div>

<script>
    async function cargarActualizaciones() {
        try {
            const response = await fetch('https://mktrdprinter.github.io/actualizaciones-site-comercial/actualizaciones.json');
            if (!response.ok) throw new Error("No se pudo obtener el archivo JSON");

            const textData = await response.text(); // Cargar como texto para evitar problemas de codificación
            const jsonData = JSON.parse(textData);

            let mensajes = jsonData.map(update => decodeURIComponent(escape(update.mensaje))).join(" • ");

            document.getElementById("marquesina").textContent = mensajes;

        } catch (error) {
            document.getElementById("marquesina").textContent = "No hay actualizaciones disponibles.";
            console.error(error);
        }
    }

    cargarActualizaciones();
</script>

</body>
</html>

